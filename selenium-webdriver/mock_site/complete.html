<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ご注文完了 - デモECサイト</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <header>
        <nav class="container">
            <a href="index.html" class="logo">Demo Shop</a>
            <ul class="nav-links">
                <li><a href="index.html">ホーム</a></li>
                <li><a href="index.html">商品</a></li>
                <li>
                    <button class="cart-icon" onclick="goToCart()" title="カートを見る">
                        🛒
                        <span class="cart-count">0</span>
                    </button>
                </li>
            </ul>
        </nav>
    </header>

    <main class="container">
        <div style="text-align: center; padding: 3rem 0;">
            <div style="font-size: 4rem; margin-bottom: 1rem;">✅</div>
            <h1 class="page-title" style="color: #28a745;">ご注文ありがとうございました</h1>
            <p style="font-size: 1.2rem; color: #666; margin-bottom: 2rem;">
                ご注文を正常に受け付けました。注文確認メールを送信いたします。
            </p>
        </div>

        <div style="max-width: 600px; margin: 0 auto;">
            <div class="alert alert-success">
                <strong>注文が完了しました</strong><br>
                お支払い手続きが正常に処理されました。商品の発送準備を開始いたします。
            </div>

            <div style="background: white; border-radius: 8px; padding: 2rem; box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1); margin-bottom: 2rem;">
                <div id="order-summary">
                    <!-- 注文内容はJavaScriptで動的に生成 -->
                </div>
            </div>

            <div style="background: #f8f9fa; border-radius: 8px; padding: 1.5rem; margin-bottom: 2rem;">
                <h3 style="color: #333; margin-bottom: 1rem;">今後の流れ</h3>
                <div style="display: flex; flex-direction: column; gap: 1rem;">
                    <div style="display: flex; align-items: center; gap: 1rem;">
                        <div style="width: 32px; height: 32px; background: #28a745; border-radius: 50%; display: flex; align-items: center; justify-content: center; color: white; font-weight: bold;">1</div>
                        <div>
                            <strong>注文確認メール送信</strong><br>
                            <small style="color: #666;">ご登録いただいたメールアドレスに注文確認メールを送信します</small>
                        </div>
                    </div>
                    <div style="display: flex; align-items: center; gap: 1rem;">
                        <div style="width: 32px; height: 32px; background: #2c5aa0; border-radius: 50%; display: flex; align-items: center; justify-content: center; color: white; font-weight: bold;">2</div>
                        <div>
                            <strong>商品の発送準備</strong><br>
                            <small style="color: #666;">1-2営業日以内に商品の発送準備を開始いたします</small>
                        </div>
                    </div>
                    <div style="display: flex; align-items: center; gap: 1rem;">
                        <div style="width: 32px; height: 32px; background: #6c757d; border-radius: 50%; display: flex; align-items: center; justify-content: center; color: white; font-weight: bold;">3</div>
                        <div>
                            <strong>配送完了</strong><br>
                            <small style="color: #666;">2-3営業日以内にお客様のもとにお届けいたします</small>
                        </div>
                    </div>
                </div>
            </div>

            <div style="background: white; border-radius: 8px; padding: 1.5rem; box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1); margin-bottom: 2rem;">
                <h3 style="color: #333; margin-bottom: 1rem;">お問い合わせ</h3>
                <p style="color: #666; margin-bottom: 1rem;">
                    ご不明な点やご質問がございましたら、お気軽にお問い合わせください。
                </p>
                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 1rem; font-size: 0.9rem;">
                    <div>
                        <strong>📞 電話</strong><br>
                        0120-123-456<br>
                        <small style="color: #666;">平日 9:00-18:00</small>
                    </div>
                    <div>
                        <strong>✉️ メール</strong><br>
                        support@demo-shop.com<br>
                        <small style="color: #666;">24時間受付</small>
                    </div>
                </div>
            </div>

            <div style="text-align: center; margin: 3rem 0;">
                <a href="index.html" class="btn btn-primary" style="font-size: 1.1rem; padding: 15px 30px;">
                    ショッピングを続ける
                </a>
            </div>
        </div>
    </main>

    <footer>
        <div class="container">
            <p>&copy; 2024 Demo Shop. All rights reserved. - Selenium WebDriverテスト用サイト</p>
        </div>
    </footer>

    <script src="script.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // 注文データがない場合はホームページにリダイレクト
            const lastOrder = localStorage.getItem('lastOrder');
            if (!lastOrder) {
                window.location.href = 'index.html';
                return;
            }
            
            // ページタイトルに注文番号を表示するアニメーション効果
            setTimeout(() => {
                const orderData = JSON.parse(lastOrder);
                const orderNumber = orderData.id;
                
                // 注文番号をページに表示
                const pageTitle = document.querySelector('.page-title');
                const originalText = pageTitle.textContent;
                
                setTimeout(() => {
                    pageTitle.innerHTML = originalText + '<br><small style="font-size: 0.6em; color: #666;">注文番号: ' + orderNumber + '</small>';
                }, 1000);
            }, 500);

            // 自動的にホームページにリダイレクト（デモ用）
            setTimeout(() => {
                const confirmRedirect = confirm('10秒後に商品ページに戻ります。今すぐ戻りますか？');
                if (confirmRedirect) {
                    window.location.href = 'index.html';
                } else {
                    setTimeout(() => {
                        window.location.href = 'index.html';
                    }, 10000);
                }
            }, 5000);
        });
    </script>
</body>
</html>